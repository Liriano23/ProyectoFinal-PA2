@page "/SuplidoresReporte"
@inject IJSRuntime js
<h1>Reporte de Suplidores</h1>

<button class="btn btn-primary" @onclick="IncrementCount">Hacer Click Para Reporte</button>

@if (Data is { })
{
    <form style="border:dashed; ">
        <object data="@pdfContent" width="1000" height="1000"></object>
    </form>
}

@code {
    private int currentCount = 0;
    List<Suplidores> lista = new List<Suplidores>();

    byte[] Data;
    string pdfContent = "";



    private async Task IncrementCount()
    {
        currentCount++;

        ProyectoFinal_PA2.Reportes.SuplidoresReport sup = new Reportes.SuplidoresReport();
        lista = SuplidoresBLL.GetList(x => true);
        Data = sup.Reporte(lista);

        pdfContent = "data:application/pdf;base64,";
        pdfContent += System.Convert.ToBase64String(Data);


    }

}
